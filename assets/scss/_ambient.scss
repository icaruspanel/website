// --------------------------------------------------------------------------
// Ambient â€” full-viewport background: perspective grid + orbs
// --------------------------------------------------------------------------

.ambient {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;

    // Perspective grid floor
    &__grid {
        position: absolute;
        inset: 0;
        overflow: hidden;

        &::before {
            content: '';
            position: absolute;
            left: -50%;
            right: -50%;
            bottom: -60%;
            height: 140%;
            background-image:
                repeating-linear-gradient(
                    90deg,
                    rgba(236, 108, 81, 0.08) 0px,
                    rgba(236, 108, 81, 0.08) 1px,
                    transparent 1px,
                    transparent 80px
                ),
                repeating-linear-gradient(
                    0deg,
                    rgba(236, 204, 81, 0.06) 0px,
                    rgba(236, 204, 81, 0.06) 1px,
                    transparent 1px,
                    transparent 80px
                );
            transform: perspective(400px) rotateX(60deg);
            transform-origin: center top;
        }

        // Fade out the grid at the edges
        &::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                to bottom,
                var(--bg) 0%,
                transparent 30%,
                transparent 85%,
                var(--bg) 100%
            );
        }
    }

    // Sweep line
    &__sweep {
        position: absolute;
        left: 0;
        right: 0;
        height: 200px;
        background: linear-gradient(
            to bottom,
            transparent,
            rgba(236, 108, 81, 0.04),
            rgba(236, 204, 81, 0.03),
            transparent
        );
        animation: grid-sweep 8s ease-in-out infinite;
        pointer-events: none;
    }

    // Dot overlay
    &::after {
        content: '';
        position: fixed;
        inset: 0;
        background-image: radial-gradient(circle, rgba(240, 236, 230, 0.04) 1px, transparent 1px);
        background-size: 24px 24px;
        pointer-events: none;
    }

    &__orb {
        position: absolute;
        border-radius: 50%;
        filter: blur(90px);

        &--flame {
            width: 650px;
            height: 650px;
            top: -200px;
            right: -80px;
            opacity: 0.55;
            background: radial-gradient(circle, var(--flame-glow) 0%, transparent 70%);
            animation: drift-1 14s ease-in-out infinite;
        }

        &--gold {
            width: 550px;
            height: 550px;
            bottom: -180px;
            left: -120px;
            opacity: 0.5;
            background: radial-gradient(circle, var(--gold-glow) 0%, transparent 70%);
            animation: drift-2 18s ease-in-out infinite;
        }

        &--subtle {
            width: 350px;
            height: 350px;
            top: 45%;
            left: 60%;
            opacity: 0.35;
            background: radial-gradient(circle, rgba(236, 108, 81, 0.06) 0%, transparent 70%);
            animation: drift-1 22s ease-in-out infinite reverse;
        }
    }

    @media (max-width: 640px) {
        &__grid { display: none; }
    }
}

@keyframes drift-1 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33%      { transform: translate(20px, -18px) scale(1.04); }
    66%      { transform: translate(-12px, 12px) scale(0.97); }
}

@keyframes drift-2 {
    0%, 100% { transform: translate(0, 0); }
    50%      { transform: translate(25px, -20px); }
}

@keyframes grid-sweep {
    0%   { top: 100%; }
    100% { top: -20%; }
}
