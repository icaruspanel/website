// --------------------------------------------------------------------------
// Diagram â€” visual figure with grid background
// --------------------------------------------------------------------------

.diagram {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-xl);
    padding: 2.5rem;
    margin: 2rem 0;
    text-align: center;
    position: relative;
    overflow: hidden;

    &::before {
        content: '';
        position: absolute;
        inset: 0;
        background-image:
                linear-gradient(rgba(255, 255, 255, 0.012) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.012) 1px, transparent 1px);
        background-size: 40px 40px;
        pointer-events: none;
    }

    &__row {
        display: flex;
        justify-content: center;
        gap: 1rem;
        flex-wrap: wrap;
        position: relative;
        z-index: 1;
    }

    &__node {
        background: var(--surface-2);
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 0.85rem 1.15rem;
        font-family: var(--font-mono);
        font-size: 0.72rem;
        color: var(--text-muted);
        text-align: center;
        min-width: 110px;
    }

    &__node-label {
        font-size: var(--text-micro);
        text-transform: uppercase;
        letter-spacing: 0.06em;
        margin-bottom: 0.25rem;
        font-weight: 600;

        &--flame { color: var(--flame-light); }
        &--gold  { color: var(--gold); }
        &--cyan  { color: var(--cyan); }
        &--rose  { color: var(--rose); }
        &--green { color: var(--green); }
    }

    &__node-name {
        color: var(--text-secondary);
        font-weight: 500;
    }

    &__connector {
        display: flex;
        align-items: center;
        color: var(--text-muted);
        font-size: 0.9rem;
        opacity: 0.35;
        padding-top: 0.2rem;
    }

    &__caption {
        margin-top: 1rem;
        font-size: var(--text-caption);
        color: var(--text-muted);
        position: relative;
        z-index: 1;
    }

    @media (max-width: 640px) {
        &__row {
            flex-direction: column;
            align-items: center;
        }

        &__connector {
            transform: rotate(90deg);
        }
    }
}
